(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[593],{92764:function(K,y,e){"use strict";e.r(y),e.d(y,{default:function(){return O}});var N=e(57663),P=e(71577),Q=e(47673),E=e(4107),R=e(34792),Z=e(48086),M=e(11849),f=e(3182),T=e(2824),F=e(94043),t=e.n(F),L=e(67294),Y=e(81907),j=e(21010);function A(h){return d.apply(this,arguments)}function d(){return d=(0,f.Z)(t().mark(function h(m){return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,j.WY)("/api/spider/login",{method:"POST",headers:{"Content-Type":"application/json"},data:m}));case 1:case"end":return i.stop()}},h)})),d.apply(this,arguments)}var g=e(9684),D=e(53776),p=e(85893),G=function(){var m=(0,L.useState)({}),S=(0,T.Z)(m,2),i=S[0],V=S[1],W=(0,L.useState)("account"),I=(0,T.Z)(W,2),X=I[0],b=I[1],U=(0,D.t)("@@initialState"),c=U.initialState,z=U.setInitialState,C=(0,j.YB)(),H=function(){var o=(0,f.Z)(t().mark(function n(){var l,s;return t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c==null||(l=c.fetchUserInfo)===null||l===void 0?void 0:l.call(c);case 2:if(s=r.sent,!s){r.next=6;break}return r.next=6,z(function(v){return(0,M.Z)((0,M.Z)({},v),{},{currentUser:s})});case 6:case"end":return r.stop()}},n)}));return function(){return o.apply(this,arguments)}}(),J=function(){var o=(0,f.Z)(t().mark(function n(l){var s,u,r,v,$,B;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(l);case 3:return s=a.sent,console.log(s),console.log(s.status),u=C.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),Z.default.success(u),a.next=10,H();case 10:if(g.m){a.next=12;break}return a.abrupt("return");case 12:return r=g.m.location.query,v=r,$=v.redirect,g.m.push($||"/"),a.abrupt("return");case 18:a.prev=18,a.t0=a.catch(0),console.log(a.t0),B=C.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),Z.default.error(B);case 23:case"end":return a.stop()}},n,null,[[0,18]])}));return function(l){return o.apply(this,arguments)}}();return(0,p.jsxs)(Y.ZP,{children:[(0,p.jsx)(E.Z,{placeholder:"Basic usage aa"}),(0,p.jsx)(P.Z,{type:"primary",onClick:function(){var o=(0,f.Z)(t().mark(function n(l){return t().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,J({url:"123456"});case 2:case"end":return u.stop()}},n)}));return function(n){return o.apply(this,arguments)}}(),children:"\u4E0B\u8F7D"})]})},O=G}}]);
